const data = {
  "items": {
    "item": [
      {
        "id": "0001",
        "type": "donut",
        "name": "Hell Cake",
        "ppu": 0.55,
        "batters": {
          "batter": [
            { "id": "1001", "type": "Regular" },
            { "id": "1002", "type": "Chocolate" },
            { "id": "1003", "type": "Blueberry" },
            { "id": "1004", "type": "Devil's Food" }
          ]
        },
        "topping": [
          { "id": "5001", "type": "None" },
          { "id": "5002", "type": "Glazed" },
          { "id": "5005", "type": "Sugar" },
          { "id": "5007", "type": "Powdered Sugar" },
          { "id": "5006", "type": "Chocolate with Sprinkles" },
          { "id": "5003", "type": "Chocolate" },
          { "id": "5004", "type": "Maple" }
        ],
        "nutrition_facts": {
          "nutrition": {
            "calories": 345,
            "fat": {
              "daily_value": "8%",
              "fat_type": {
                "saturated": "5.5g",
                "trans": "1.3g"
              }
            },
            "cholesterol": {
              "daily_value": "12%",
              "amount": "12mg"
            },
            "sodium": {
              "daily_value": "15%",
              "amount": "280mg"
            },
            "carbohydrate": {
              "daily_value": "6%",
              "carbs_detail": {
                "amount": "12g",
                "type": {
                  "fibre": "1g",
                  "sugars": "25g"
                }
              }
            },
            "protein": "11g",
            "vitamins": [
              { "type": "Vitamin A", "percent": "0%" },
              { "type": "Vitamin C", "percent": "0%" },
              { "type": "Calcium", "percent": "2%" },
              { "type": "Iron", "percent": "8%" }
            ]
          }
        }
      },
      {
        "id": "0002",
        "type": "donut",
        "name": "Funny Wizard",
        "ppu": 0.54,
        "batters": {
          "batter": [
            { "id": "1001", "type": "Regular" },
            { "id": "1002", "type": "Chocolate" },
            { "id": "1003", "type": "Blueberry" },
            { "id": "1009", "type": "Strawberry" }
          ]
        },
        "topping": [
          { "id": "5001", "type": "None" },
          { "id": "5002", "type": "Glazed" },
          { "id": "5012", "type": "Lemon" },
          { "id": "5005", "type": "Sugar" },
          { "id": "5007", "type": "Powdered Sugar" },
          { "id": "5006", "type": "Chocolate with Sprinkles" },
          { "id": "5003", "type": "Chocolate" },
          { "id": "5008", "type": "White Chocolate" }
        ],
        "nutrition_facts": {
          "nutrition": {
            "calories": 445,
            "fat": {
              "daily_value": "22%",
              "fat_type": {
                "saturated": "7.5g",
                "trans": "1.8g"
              }
            },
            "cholesterol": {
              "daily_value": "19%",
              "amount": "22mg"
            },
            "sodium": {
              "daily_value": "15%",
              "amount": "280mg"
            },
            "carbohydrate": {
              "daily_value": "12%",
              "carbs_detail": {
                "amount": "32g",
                "type": {
                  "fibre": "10g",
                  "sugars": "45g"
                }
              }
            },
            "protein": "13g",
            "vitamins": [
              { "type": "Vitamin A", "percent": "0%" },
              { "type": "Vitamin C", "percent": "0%" },
              { "type": "Calcium", "percent": "2%" },
              { "type": "Iron", "percent": "6%" }
            ]
          }
        }
      },
      {
        "id": "0003",
        "type": "donut",
        "name": "Magic Fusion",
        "ppu": 0.67,
        "batters": {
          "batter": [
            { "id": "1001", "type": "Regular" },
            { "id": "1002", "type": "Chocolate" },
            { "id": "1003", "type": "Blueberry" },
            { "id": "1004", "type": "Devil's Food" },
            { "id": "1005", "type": "Mint" },
            { "id": "1006", "type": "Gluten-free" },
            { "id": "1009", "type": "Strawberry" }
          ]
        },
        "topping": [
          { "id": "5001", "type": "None" },
          { "id": "5002", "type": "Glazed" },
          { "id": "5005", "type": "Sugar" },
          { "id": "5007", "type": "Powdered Sugar" },
          { "id": "5006", "type": "Chocolate with Sprinkles" },
          { "id": "5003", "type": "Chocolate" },
          { "id": "5004", "type": "Maple" },
          { "id": "5008", "type": "White Chocolate" }
        ],
        "nutrition_facts": {
          "nutrition": {
            "calories": 395,
            "fat": {
              "daily_value": "10%",
              "fat_type": {
                "saturated": "9.5g",
                "trans": "1.8g"
              }
            },
            "cholesterol": {
              "daily_value": "22%",
              "amount": "22mg"
            },
            "sodium": {
              "daily_value": "15%",
              "amount": "280mg"
            },
            "carbohydrate": {
              "daily_value": "46%",
              "carbs_detail": {
                "amount": "32g",
                "type": {
                  "fibre": "1g",
                  "sugars": "55g"
                }
              }
            },
            "protein": "11g",
            "vitamins": [
              { "type": "Vitamin A", "percent": "0%" },
              { "type": "Vitamin C", "percent": "0%" },
              { "type": "Calcium", "percent": "2%" },
              { "type": "Iron", "percent": "8%" }
            ]
          }
        }
      },
      {
        "id": "0004",
        "type": "donut",
        "name": "Black Mockaroo",
        "ppu": 0.58,
        "batters": {
          "batter": [
            { "id": "1001", "type": "Regular" },
            { "id": "1003", "type": "Blueberry" },
            { "id": "1004", "type": "Devil's Food" },
            { "id": "1007", "type": "Peanut" },
            { "id": "1006", "type": "Gluten-free" }
          ]
        },
        "topping": [
          { "id": "5001", "type": "None" },
          { "id": "5002", "type": "Glazed" },
          { "id": "5005", "type": "Sugar" },
          { "id": "5007", "type": "Powdered Sugar" },
          { "id": "5006", "type": "Chocolate with Sprinkles" },
          { "id": "5009", "type": "Extra crunchy" },
          { "id": "5008", "type": "White Chocolate" }
        ],
        "nutrition_facts": {
          "nutrition": {
            "calories": 485,
            "fat": {
              "daily_value": "14%",
              "fat_type": {
                "saturated": "7.5g",
                "trans": "3.3g"
              }
            },
            "cholesterol": {
              "daily_value": "12%",
              "amount": "19mg"
            },
            "sodium": {
              "daily_value": "25%",
              "amount": "299mg"
            },
            "carbohydrate": {
              "daily_value": "9%",
              "carbs_detail": {
                "amount": "16g",
                "type": {
                  "fibre": "13g",
                  "sugars": "28g"
                }
              }
            },
            "protein": "11g",
            "vitamins": [
              { "type": "Vitamin A", "percent": "5%" },
              { "type": "Vitamin C", "percent": "2%" },
              { "type": "Calcium", "percent": "2%" },
              { "type": "Iron", "percent": "8%" }
            ]
          }
        }
      },
      {
        "id": "0005",
        "type": "donut",
        "name": "Relaxing Alchemy",
        "ppu": 0.78,
        "batters": {
          "batter": [
            { "id": "1006", "type": "Gluten-free" }
          ]
        },
        "topping": [
          { "id": "5001", "type": "None" },
          { "id": "5022", "type": "Orange" },
          { "id": "5025", "type": "Melon" },
          { "id": "5027", "type": "Banana" },
          { "id": "5028", "type": "Watermelon" }
        ],
        "nutrition_facts": {
          "nutrition": {
            "calories": 625,
            "fat": {
              "daily_value": "38%",
              "fat_type": {
                "saturated": "15.5g",
                "trans": "12.3g"
              }
            },
            "cholesterol": {
              "daily_value": "78%",
              "amount": "125mg"
            },
            "sodium": {
              "daily_value": "35%",
              "amount": "580mg"
            },
            "carbohydrate": {
              "daily_value": "56%",
              "carbs_detail": {
                "amount": "47g",
                "type": {
                  "fibre": "1g",
                  "sugars": "64g"
                }
              }
            },
            "protein": "31g",
            "vitamins": [
              { "type": "Vitamin A", "percent": "0.3%" },
              { "type": "Vitamin C", "percent": "0.6%" },
              { "type": "Calcium", "percent": "2%" },
              { "type": "Iron", "percent": "18%" }
            ]
          }
        }
      }
    ]
  }
};


//1.- Nuestro grupo se encuentra totalmente debilitado. Necesitamos tomar azúcares, hierro, proteínas y poca fibra. Para ello debemos preparar un conjuro que nos muestre:

	//donut con más azúcar (+ 50 exp)

	//donut con más hierro (+ 50 exp)

	//donut con más proteína (+ 50 exp)

	//donut con menos fibra (+ 50 exp)

	//donut con más calorías (+ 50 exp)

exercise1();    

function exercise1()
{

  console.log("");
  console.log("EXERCISE 1");
  console.log("////////////////////");

    //find donut with most sugar
    const donutWithMostSugar = findDonutMostSugar();

    console.log("Donut with most sugar: " + donutWithMostSugar.name);

    //find donut with most proteins
    const donutWithMostProtein = findDonutMostProtein();

    console.log("Donut with most protein: " + donutWithMostProtein.name);

    //find donut with least fiber
    const donutWithLeastFiber = findDonutLeastFiber();

    console.log("Donut with least fibre: " + donutWithLeastFiber.name);

    //find donut with most calories
    const donutWithMostCalories = findDonutMostCalories();

    console.log("Donut with most calories: " + donutWithMostCalories.name);

    //find donut with most iron
    const donutWithMostIron = findDonutMostIron();

    console.log("Donut with most iron: " + donutWithMostIron.name);

    console.log("////////////////////");
}

function findDonutMostIron()
{

    let currentIronValue = 0;

    let currentDonut = {};

    const array = data.items.item;

    for(let i=0; i<array.length; i++)
    {
        const vitamins = array[i].nutrition_facts.nutrition.vitamins;

        let valueToCheck = 0;

        for(let i=0; i<vitamins.length; i++)
        {
          const entry = vitamins[i];

          if(entry.type === "Iron")
          {
            valueToCheck = entry.percent;
          }
        }

        const valueToCompare = convertStringToNumber(valueToCheck);

        if(valueToCompare >= currentIronValue)
        {
            currentIronValue = valueToCompare;
            currentDonut = array[i];
        }
    }

    return currentDonut;
}

function findDonutMostCalories()
{
  let currentCalorieValue = 0;

  let currentDonut = {};

  const array = data.items.item;

  for(let i=0; i<array.length; i++)
  {
      const valueToCompare = array[i].nutrition_facts.nutrition.calories;

      if(valueToCompare >= currentCalorieValue)
      {
        currentCalorieValue = valueToCompare;
        currentDonut = array[i];
      }
  }

  return currentDonut;
}

function findDonutLeastFiber()
{
  let currentFiberValue = 0;

  let currentDonut = {};

  const array = data.items.item;

  for(let i=0; i<array.length; i++)
  {
      const valueToCheck = array[i].nutrition_facts.nutrition.carbohydrate.carbs_detail.type.fibre;

      const valueToCompare = convertStringToNumber(valueToCheck);

      if(i === 0)
      {
        currentFiberValue = valueToCompare;
        currentDonut = array[i];
      }
      else if(valueToCompare <= currentFiberValue)
      {
        currentFiberValue = valueToCompare;
        currentDonut = array[i];
      }
  }

  return currentDonut;
}

function findDonutMostProtein()
{
  let currentProteinValue = 0;

  let currentDonut = {};

  const array = data.items.item;

  for(let i=0; i<array.length; i++)
  {
      const valueToCheck = array[i].nutrition_facts.nutrition.protein;

      const valueToCompare = convertStringToNumber(valueToCheck);

      if(valueToCompare >= currentProteinValue)
      {
          currentProteinValue = valueToCompare;
          currentDonut = array[i];
      }
  }

    return currentDonut;
}

function findDonutMostSugar()
{

    let currentSugarValue = 0;

    let currentDonut = {};

    const array = data.items.item;

    for(let i=0; i<array.length; i++)
    {
        const valueToCheck = array[i].nutrition_facts.nutrition.carbohydrate.carbs_detail.type.sugars;

        const valueToCompare = convertStringToNumber(valueToCheck);

        if(valueToCompare >= currentSugarValue)
        {
            currentSugarValue = valueToCompare;
            currentDonut = array[i];
        }
    }

    return currentDonut;
}

function convertStringToNumber(string)
{
    string = string.replace("g", "");

    string = string.replace("m", "");

    string = string.replace("%", "");

    let number = 0;

    if(string.includes('.'))
    {
      number = parseFloat(string);
    }
    else
    {
      number = parseInt(string);
    }

    return number;
}

//2.- Necesitamos saber si la ingesta de calorías, grasas y carbohidratos puede mellar nuestra agilidad por lo que necesitamos:

	//Listar todos los donuts y sus calorías (+ 50 exp)

	//Listar todos los donuts y sus carbohidratos (+ 50 exp)

	//Mostrar la media de calorías de todos los donuts (+ 50 exp)

	//Mostrar la suma de las grasas saturadas de todos los donuts (+ 50 exp)

	//Mostrar el porcentaje medio de cada vitamina (+ 50 exp)

  exercise2();

  function exercise2()
  {
    console.log("");
    console.log("EXERCISE 2");

    listDonutsWithCalories();

    listDonutsWithCarbohydrates();

    showAverageCaloriesOfAllDonuts();

    showSumOfSaturatedFatsInAllDonuts();

    showAveragePercentageOfVitaminsInAllDonuts();

    console.log("////////////////////");
  }

  //list all donuts with their respective calories
  function listDonutsWithCalories()
  {
    console.log("////////////////////");
    console.log("List of donuts with calorie amounts:");

    const donuts = data.items.item;

    for(let i=0; i<donuts.length;i++)
    {
      const name = donuts[i].name;

      const calories = donuts[i].nutrition_facts.nutrition.calories;

      console.log(name + ": " + calories + " calories");
    }
  }

  //list of all donus with their carbohydrate info
  function listDonutsWithCarbohydrates()
  {
    console.log("////////////////////");
    console.log("List of donuts with their carbohydrates:");

    const donuts = data.items.item;

    for(let i=0; i<donuts.length; i++)
    {
      console.log("//////////");
      const name = donuts[i].name;

      const carbohydrates = donuts[i].nutrition_facts.nutrition.carbohydrate;

      const carbohydrateDailyValue = carbohydrates.daily_value;

      const carbohydrateAmount = carbohydrates.carbs_detail.amount;

      const sugarAmount = carbohydrates.carbs_detail.type.sugars;

      const fiberAmount = carbohydrates.carbs_detail.type.fibre;

      console.log(name + " carbohydrate info: ");

      console.log("Daily Value: " + carbohydrateDailyValue);

      console.log("Carbohydrate Amount: " + carbohydrateAmount);

      console.log("Sugar Amount: " + sugarAmount);

      console.log("Fiber Amount: " + fiberAmount);
    }
  }

  //average calories of all donuts
  function showAverageCaloriesOfAllDonuts()
  {
    console.log("////////////////////");

    const donuts = data.items.item;

    let totalCalories = 0;

    for(let i=0; i<donuts.length;i++)
    {
      const calories = donuts[i].nutrition_facts.nutrition.calories;

      totalCalories += calories;
    }

    let averageCalories = totalCalories / donuts.length;

    console.log("Average Calories of all donuts: " + averageCalories);
  }

  //sum of saturated fats of all donuts
  function showSumOfSaturatedFatsInAllDonuts()
  {
    console.log("////////////////////");
    const donuts = data.items.item;

    let totalSaturatedFats = 0;

    for(let i=0; i<donuts.length; i++)
    {
      const saturatedFatsString = donuts[i].nutrition_facts.nutrition.fat.fat_type.saturated;

      const saturatedFats = convertStringToNumber(saturatedFatsString);

      totalSaturatedFats += saturatedFats;
    }

    console.log("Total saturated fats of all donuts: " + totalSaturatedFats);
  }

  //calculates and shows average percentage of all vitamins in all donuts
  function showAveragePercentageOfVitaminsInAllDonuts()
  {
    console.log("////////////////////");
    const donuts = data.items.item;

    let sumVitaminA = 0;

    let sumVitaminC = 0;

    let sumCalcium = 0;

    let sumIron = 0;

    for(let i=0; i<donuts.length; i++)
    {
      const vitamins = donuts[i].nutrition_facts.nutrition.vitamins;

      for(let j=0; j<vitamins.length; j++)
      {
        const type = vitamins[j].type;

        const vitaminPercent = convertStringToNumber(vitamins[j].percent);

        switch(type)
        {
          case "Vitamin A":
            sumVitaminA += vitaminPercent;
          break;
          case "Vitamin C":
            sumVitaminC += vitaminPercent;
          break;
          case "Calcium":
            sumCalcium += vitaminPercent;
          break;
          case "Iron":
            sumIron += vitaminPercent;
          break;      
        }
      }
    }

    const averageVitaminA = sumVitaminA / donuts.length;

    const averageVitaminC = sumVitaminC / donuts.length;

    const averageCalcium = sumCalcium / donuts.length;

    const averageIron = sumIron / donuts.length;

    console.log("Average of all vitamins in all donuts: ");

    console.log("Vitamin A: " + averageVitaminA + "%");

    console.log("Vitamin C: " + averageVitaminC + "%");

    console.log("Calcium: " + averageCalcium + "%");

    console.log("Iron: " + averageIron + "%");
  }

//3.- El horno a la leña de esta posada es de alta calidad, debemos lanzar un hechizo para saber qué tipo de masa utilizan

	//Listar cada donut con sus posibles masas, batter (+ 50 exp)

	//Listar cada donut con sus posibles extras topping (+ 50 exp)

	//Mostrar el donut con más variedad de masas (batters) (+ 50 exp)

	//Mostrar el donut con más variedad de toppings (+ 50 exp)

	//Contar el número total de masas y toppings diferentes que existen en toda la posada (+ 50 exp)

  exercise3();

  function exercise3()
  {
    console.log("");
    console.log("EXERCISE 3");

    console.log("/////////////////////");

    showDonutsWithBatters();

    showDonutsWithToppings();

    showDonutWithMostBatters();

    showDonutWithMostToppings();

    showNumberOfBattersAndToppings();
  }

  function showNumberOfBattersAndToppings()
  {
    const donuts = data.items.item;

    const batterNames = [];

    let batterNumber = 0;

    for(let i=0; i< donuts.length; i++)
    {
      const batters = donuts[i].batters.batter;

      for(let j=0; j<batters.length; j++)
      {
        const name = batters[j].type;

        let batterFound = false;

        for(let k=0; k<batterNames.length; k++)
        {
          if(batterNames[k] === name)
          {
            batterFound = true;
          }
        }

        if(!batterFound)
        {
          batterNames.push(name);
          batterNumber++;
        }
      }
    }

    console.log("Number of batters: " + batterNumber);

    const toppingNames = [];

    let toppingNumber = 0;

    for(let i=0; i< donuts.length; i++)
    {
      const toppings = donuts[i].topping;

      for(let j=0; j<toppings.length; j++)
      {
        const name = toppings[j].type;

        let toppingFound = false;

        for(let k=0; k<toppingNames.length; k++)
        {
          if(toppingNames[k] === name)
          {
            toppingFound = true;
          }
        }

        if(!toppingFound)
        {
          toppingNames.push(name);
          toppingNumber++;
        }
      }
    }

    console.log("Number of toppings: " + toppingNumber);

    console.log("/////////////////////");
  }

  function showDonutWithMostToppings()
  {
    const donuts = data.items.item;

    let currentName = "";

    let currentMaxToppings = 0;

    for(let i=0; i<donuts.length; i++)
    {

      const toppingQuantity = donuts[i].topping.length;

      if(toppingQuantity >= currentMaxToppings)
      {
        currentName = donuts[i].name;
        currentMaxToppings = toppingQuantity;
      }

    }

    console.log("Donut with most toppings: " + currentName);

    console.log("/////////////////////");
  }

  function showDonutWithMostBatters()
  {
    const donuts = data.items.item;

    let currentName = "";

    let currentMaxBatters = 0;

    for(let i=0; i<donuts.length; i++)
    {

      const batterQuantity = donuts[i].batters.batter.length;

      if(batterQuantity >= currentMaxBatters)
      {
        currentName = donuts[i].name;
        currentMaxBatters = batterQuantity;
      }

    }

    console.log("Donut with most batters: " + currentName);

    console.log("/////////////////////");
  }

  function showDonutsWithToppings()
  {
    const donuts = data.items.item;

    for(let i=0; i<donuts.length; i++)
    {
      console.log("//////////");

      const name = donuts[i].name;

      console.log(name + " toppings: ");

      const toppings = donuts[i].topping;

      for(let j=0; j<toppings.length; j++)
      {
        const batterName = toppings[j].type;
        console.log(batterName);
      }
    }

    console.log("/////////////////////");
  }

  function showDonutsWithBatters()
  {

    const donuts = data.items.item;

    for(let i=0; i<donuts.length; i++)
    {
      console.log("//////////");

      const name = donuts[i].name;

      console.log(name + " batters: ");

      const batters = donuts[i].batters.batter;

      for(let j=0; j<batters.length; j++)
      {
        const batterName = batters[j].type;
        console.log(batterName);
      }
    }

    console.log("/////////////////////");
  }



//4.- Nuestro grupo sólo dispone de 4 monedas de plata.

	//Mostrar cuántos donuts de cada tipo podemos comprar y las monedas sobrantes. (+ 50 exp)

	//Encontrar el donut más caro que aún podamos comprar con 4 monedas de plata (+ 50 exp)

	//Encontrar el donut más barato de la posada (+ 50 exp)

	//Ordenar los donuts por precio de menor a mayor (+ 50 exp)

	//Calcular cuántos donuts distintos podríamos comprar con 4 monedas en total (mezclando tipos) (+ 50 exp)


  exercise4();

  function exercise4()
  {
    console.log("");
    console.log("EXERCISE 3");

    console.log("/////////////////////");

    showNumberOfEachDonutBoughtForQuantityOfCoins(4);

    showMostExpensiveDonutQuantityOfCoinsCanBuy(4);

    showCheapestDonut();

    sortDonutsFromCheapestToMostExpensive();

    showHowManyDifferentDonutsQuantityOfCoinsCanBuy(4);
  }

  function showHowManyDifferentDonutsQuantityOfCoinsCanBuy(coins)
  {
    const donuts = data.items.item;

    const donutPriceArray = [];

    for(let i=0; i<donuts.length; i++)
    {
      const price = donuts[i].ppu;

      if(i === 0)
      {
        donutPriceArray.push(price);
      }
      else
      {
        let elementInserted = false;

        for(let j=0; j<donutPriceArray.length; j++)
        {
          if(price < donutPriceArray[j] && !elementInserted)
          {
            let slicedArray = donutPriceArray.slice(j, donutPriceArray.length - 1);

            donutPriceArray.push(price);

            donutPriceArray.concat(slicedArray);

            elementInserted = true;
          }
        }

        if(!elementInserted)
        {
          donutPriceArray.push(price);
        }
      }
    }

    let coinsLeft = coins;

    let donutCount = 0;

    for(let i=0; i<donutPriceArray.length; i++)
    {
      const donutPrice = donutPriceArray[i];

      if(donutPrice <= coinsLeft)
      {
        coinsLeft -= donutPrice;
        donutCount++;
      }
      else
      {
        break;
      }
    }

    console.log(donutCount + " different donuts can be bought with " + coins + " coins.");
    console.log("////////////////////")
  }

  function sortDonutsFromCheapestToMostExpensive()
  {
    const donuts = data.items.item;

    const donutNameArray = [];

    const donutPriceArray = [];

    for(let i=0; i<donuts.length; i++)
    {
      const name = donuts[i].name;

      const price = donuts[i].ppu;

      if(i === 0)
      {
        donutNameArray.push(name);
        donutPriceArray.push(price);
      }
      else
      {
        let elementInserted = false;

        for(let j=0; j<donutPriceArray.length; j++)
        {
          if(price < donutPriceArray[j] && !elementInserted)
          {
            let slicedArray = donutPriceArray.slice(j, donutPriceArray.length - 1);

            donutPriceArray.push(price);

            donutPriceArray.concat(slicedArray);

            let slicedArrayNames = donutNameArray.slice(j, donutNameArray.length - 1);

            donutNameArray.push(name);

            donutPriceArray.concat(slicedArrayNames);

            elementInserted = true;
          }
        }

        if(!elementInserted)
        {
          donutNameArray.push(name);
          donutPriceArray.push(price);
        }
      }
    }

    console.log("List of donuts from cheapest to most expensive: ");

    for(let i=0; i<donutNameArray.length; i++)
    {
      console.log(donutNameArray[i]);
    }

    console.log("/////////////////////");
  }

  function showCheapestDonut()
  {
    const donuts = data.items.item;

    let currentDonutPrice = 0;

    let currentDonutName = "";

    for(let i=0; i<donuts.length; i++)
    {
      const price = donuts[i].ppu;

      const name = donuts[i].name;

      if(i === 0 || currentDonutPrice >= price)
      {
        currentDonutPrice = price;
        currentDonutName = name;
      }
    }

    console.log("Cheapest donut: " + currentDonutName);
    console.log("/////////////////////");
  }

  function showMostExpensiveDonutQuantityOfCoinsCanBuy(coins)
  {
    const donuts = data.items.item;

    let currentDonutName = "";

    let currentDonutPrice = 0;

    for(let i=0; i<donuts.length; i++)
    {
      const price = donuts[i].ppu;

      const name = donuts[i].name;

      if(price >= currentDonutPrice && price <= coins)
      {
        currentDonutName = name;

        currentDonutPrice = price;
      }
    }

    console.log("Most expensive donut " + coins + " coins can buy: " + currentDonutName);
    console.log("/////////////////////");
  }

  function showNumberOfEachDonutBoughtForQuantityOfCoins(coins)
  {
    const donuts = data.items.item;

    console.log("Quantity of each donut " + coins + " coins can buy");

    for(let i=0; i<donuts.length; i++)
    {
      const price = donuts[i].ppu;

      const name = donuts[i].name;

      const quantityOfDonutsBought = Math.floor(coins / price);

      const coinsLeft = coins - (quantityOfDonutsBought * price);

      const coinsLeftRounded = Math.round(coinsLeft * 100) / 100;

      console.log(name + ": " + quantityOfDonutsBought + " donuts, " + coinsLeftRounded + " coins are left");
    }

    console.log("/////////////////////");
  }

//5.- Para nuestro horror y preocupación hemos detectado grandes errores sintácticos en el conjuro original, es momento de poner nuestros conocimientos arcanos al servicio de toda la posada.

//Los donuts con el colesterol > 12 modificar las grasas trans a 3,2 gr (+ 50 exp)

//Donuts con azúcar > 50  modificar el amount de los detalles de carbohidratos a 42gr (+ 50 exp)

//Añadir una vitamina llamada "Nitacina" al donut con el nombre "Magic Fusion" (+ 50 exp)

//El daily value de los carbohidratos de todos los donuts va a ser de 53% (+ 50 exp)

//Crearle un nuevo atributo "Alergen" al donut llamado "Relaxing Alchemy" y que dentro de el ponga "Gluten Free" (+ 50 exp)

exercise5();

function exercise5()
{



  console.log("");
  console.log("EXERCISE 5");
  console.log("////////////////////");
  console.log("Donuts data modified according to exercise 5 instructions: ");

  console.log("////////////////////");

  changeDonutsWithMoreThan12Choresterol();

}

function changeDonutsWithMoreThan12Choresterol()
{
  console.log("Set donuts with more than 12mg choresterol to 3.2g of trans fat");

  const donuts = data.items.item;

  for(let i=0; i<donuts.length; i++)
  {
    const choresterolString = donuts[i].nutrition_facts.nutrition.cholesterol.amount;

    const cholesterol = convertStringToNumber(choresterolString);

    if(cholesterol > 12)
    {
      donuts[i].nutrition_facts.nutrition.fat.fat_type.trans = "3.2g";
    }

    console.log("Donut " + (i+1));
    console.log(choresterolString + " choresterol");
    console.log(donuts[i].nutrition_facts.nutrition.fat.fat_type.trans + " trans fat");
  }

  console.log("////////////////////");
}